<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智记账 - 个人财务管理助手</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#F59E0B',
                        danger: '#EF4444',
                        'primary-light': '#DBEAFE',
                        'secondary-light': '#D1FAE5'
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .glass-effect {
                backdrop-filter: blur(10px);
                background: rgba(255, 255, 255, 0.8);
            }
            .card-hover {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .card-hover:hover {
                transform: translateY(-4px);
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
            .floating-animation {
                animation: floating 3s ease-in-out infinite;
            }
            @keyframes floating {
                0%, 100% { transform: translateY(0px); }
                50% { transform: translateY(-10px); }
            }
            .slide-up {
                animation: slideUp 0.5s ease-out;
            }
            @keyframes slideUp {
                from { transform: translateY(100%); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            .pulse-ring {
                animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
            }
            @keyframes pulse-ring {
                0% { transform: scale(0.8); opacity: 1; }
                80%, 100% { transform: scale(2.25); opacity: 0; }
            }
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen font-sans">
    <!-- 主容器 -->
    <div class="min-h-screen relative">
        <!-- 顶部状态栏 -->
        <div class="bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50">
            <div class="flex items-center justify-between px-4 py-3">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-xl flex items-center justify-center">
                        <i class="fa fa-calculator text-white text-lg"></i>
                    </div>
                    <h1 class="text-xl font-bold text-gray-800">智记账</h1>
                </div>
                <div class="flex items-center space-x-3">
                    <button onclick="showNotification()" class="relative p-2 text-gray-600 hover:text-primary transition-colors">
                        <i class="fa fa-bell text-lg"></i>
                        <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    <button onclick="openSettings()" class="p-2 text-gray-600 hover:text-primary transition-colors">
                        <i class="fa fa-bullseye text-lg"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- 主要内容区域 -->
        <div class="p-4">
            <!-- 财务概览卡片 -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-arrow-up text-secondary text-xl"></i>
                        </div>
                        <span class="text-sm text-gray-500">本月</span>
                    </div>
                    <h3 class="text-2xl font-bold text-secondary mb-1" id="totalIncome">¥0</h3>
                    <p class="text-gray-600 text-sm">总收入</p>
                    <div class="mt-2 text-xs text-green-600 flex items-center">
                        <i class="fa fa-arrow-up mr-1"></i>
                        <span>较上月 +0%</span>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-arrow-down text-danger text-xl"></i>
                        </div>
                        <span class="text-sm text-gray-500">本月</span>
                    </div>
                    <h3 class="text-2xl font-bold text-danger mb-1" id="totalExpense">¥0</h3>
                    <p class="text-gray-600 text-sm">总支出</p>
                    <div class="mt-2 text-xs text-red-600 flex items-center">
                        <i class="fa fa-arrow-up mr-1"></i>
                        <span>较上月 +0%</span>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-balance-scale text-primary text-xl"></i>
                        </div>
                        <span class="text-sm text-gray-500">结余</span>
                    </div>
                    <h3 class="text-2xl font-bold text-primary mb-1" id="balance">¥0</h3>
                    <p class="text-gray-600 text-sm">本月结余</p>
                    <div class="mt-2 text-xs text-blue-600 flex items-center">
                        <i class="fa fa-info-circle mr-1"></i>
                        <span>收入 - 支出</span>
                    </div>
                </div>
            </div>

            <!-- 快速记账按钮 -->
            <div class="flex justify-center mb-8">
                <button onclick="openAddRecordModal()" class="relative group">
                    <div class="w-20 h-20 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center shadow-lg card-hover">
                        <i class="fa fa-plus text-white text-2xl"></i>
                    </div>
                    <div class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-gray-600 font-medium group-hover:text-primary transition-colors">
                        记一笔
                    </div>
                    <div class="absolute inset-0 w-20 h-20 bg-gradient-to-r from-primary to-secondary rounded-full pulse-ring opacity-30"></div>
                </button>
            </div>

            <!-- 分类统计 -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-lg font-bold text-gray-800">支出分类</h2>
                    <button onclick="toggleCategoryView()" class="text-primary text-sm font-medium">
                        <i class="fa fa-refresh mr-1"></i>切换视图
                    </button>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="category-item p-4 rounded-xl bg-red-50 border border-red-100 card-hover cursor-pointer" onclick="filterByCategory('餐饮')">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fa fa-cutlery text-red-500 text-xl"></i>
                            <span class="text-xs font-medium text-red-600">35%</span>
                        </div>
                        <p class="text-sm font-medium text-gray-800">餐饮</p>
                        <p class="text-xs text-gray-500">¥1,260</p>
                    </div>

                    <div class="category-item p-4 rounded-xl bg-blue-50 border border-blue-100 card-hover cursor-pointer" onclick="filterByCategory('交通')">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fa fa-car text-blue-500 text-xl"></i>
                            <span class="text-xs font-medium text-blue-600">20%</span>
                        </div>
                        <p class="text-sm font-medium text-gray-800">交通</p>
                        <p class="text-xs text-gray-500">¥720</p>
                    </div>

                    <div class="category-item p-4 rounded-xl bg-green-50 border border-green-100 card-hover cursor-pointer" onclick="filterByCategory('购物')">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fa fa-shopping-bag text-green-500 text-xl"></i>
                            <span class="text-xs font-medium text-green-600">25%</span>
                        </div>
                        <p class="text-sm font-medium text-gray-800">购物</p>
                        <p class="text-xs text-gray-500">¥900</p>
                    </div>

                    <div class="category-item p-4 rounded-xl bg-yellow-50 border border-yellow-100 card-hover cursor-pointer" onclick="filterByCategory('娱乐')">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fa fa-gamepad text-yellow-500 text-xl"></i>
                            <span class="text-xs font-medium text-yellow-600">20%</span>
                        </div>
                        <p class="text-sm font-medium text-gray-800">娱乐</p>
                        <p class="text-xs text-gray-500">¥720</p>
                    </div>
                </div>
            </div>

            <!-- 最近记录 -->
            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-lg font-bold text-gray-800">最近记录</h2>
                    <button onclick="openAllRecords()" class="text-primary text-sm font-medium">
                        查看全部 <i class="fa fa-arrow-right ml-1"></i>
                    </button>
                </div>
                <div class="space-y-4" id="recentRecords">
                    <!-- 记录列表将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>

        <!-- 底部导航 -->
        <div class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200 z-40">
            <div class="grid grid-cols-4 h-16">
                <button onclick="switchTab('home')" class="tab-btn flex flex-col items-center justify-center space-y-1 text-primary">
                    <i class="fa fa-home text-lg"></i>
                    <span class="text-xs font-medium">首页</span>
                </button>
                <button onclick="switchTab('statistics')" class="tab-btn flex flex-col items-center justify-center space-y-1 text-gray-500">
                    <i class="fa fa-bar-chart text-lg"></i>
                    <span class="text-xs font-medium">统计</span>
                </button>
                <button onclick="switchTab('accounts')" class="tab-btn flex flex-col items-center justify-center space-y-1 text-gray-500">
                    <i class="fa fa-credit-card text-lg"></i>
                    <span class="text-xs font-medium">账户</span>
                </button>
                <button onclick="switchTab('profile')" class="tab-btn flex flex-col items-center justify-center space-y-1 text-gray-500">
                    <i class="fa fa-user text-lg"></i>
                    <span class="text-xs font-medium">我的</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 添加记录模态框 -->
    <div id="addRecordModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full slide-up">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-gray-800">添加记录</h3>
                    <button onclick="closeAddRecordModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fa fa-times text-xl"></i>
                    </button>
                </div>

                <form id="recordForm" class="space-y-6">
                    <!-- 收支类型选择 -->
                    <div class="flex space-x-4">
                        <button type="button" onclick="selectType('income')" id="incomeBtn" class="flex-1 py-3 px-4 border-2 border-gray-200 rounded-xl text-center transition-all hover:border-primary">
                            <div class="flex items-center justify-center space-x-2 mb-1">
                                <i class="fa fa-arrow-up text-secondary"></i>
                                <span class="font-medium">收入</span>
                            </div>
                        </button>
                        <button type="button" onclick="selectType('expense')" id="expenseBtn" class="flex-1 py-3 px-4 border-2 border-primary bg-primary/5 rounded-xl text-center transition-all">
                            <div class="flex items-center justify-center space-x-2 mb-1">
                                <i class="fa fa-arrow-down text-danger"></i>
                                <span class="font-medium">支出</span>
                            </div>
                        </button>
                    </div>

                    <!-- 金额输入 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">金额</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">¥</span>
                            <input type="number" id="amount" placeholder="请输入金额" 
                                   class="w-full pl-8 pr-3 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent text-2xl font-bold"
                                   required>
                        </div>
                    </div>

                    <!-- 分类选择 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">分类</label>
                        <select id="category" class="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="">请选择分类</option>
                            <option value="餐饮">餐饮</option>
                            <option value="交通">交通</option>
                            <option value="购物">购物</option>
                            <option value="娱乐">娱乐</option>
                            <option value="住房">住房</option>
                            <option value="医疗">医疗</option>
                            <option value="教育">教育</option>
                            <option value="其他">其他</option>
                        </select>
                    </div>

                    <!-- 账户选择 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">账户</label>
                        <select id="account" class="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="现金">现金</option>
                            <option value="微信支付">微信支付</option>
                            <option value="支付宝">支付宝</option>
                            <option value="银行卡">银行卡</option>
                        </select>
                    </div>

                    <!-- 备注 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">备注</label>
                        <input type="text" id="note" placeholder="添加备注（可选）" 
                               class="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>

                    <!-- 日期选择 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">日期</label>
                        <input type="date" id="date" 
                               class="w-full py-3 px-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>

                    <!-- 提交按钮 -->
                    <button type="submit" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-4 px-6 rounded-xl font-bold text-lg hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                        保存记录
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- 统计页面 -->
    <div id="statisticsPage" class="hidden p-4">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">财务统计</h2>
            
            <!-- 图表区域 -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">收支分布</h3>
                    <canvas id="pieChart" width="300" height="300"></canvas>
                </div>
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">月度趋势</h3>
                    <canvas id="lineChart" width="300" height="300"></canvas>
                </div>
            </div>

            <!-- 详细统计 -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">支出排行</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-red-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <i class="fa fa-cutlery text-red-500"></i>
                                <span class="font-medium">餐饮</span>
                            </div>
                            <span class="font-bold text-red-600">¥1,260</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <i class="fa fa-shopping-bag text-green-500"></i>
                                <span class="font-medium">购物</span>
                            </div>
                            <span class="font-bold text-green-600">¥900</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <i class="fa fa-car text-blue-500"></i>
                                <span class="font-medium">交通</span>
                            </div>
                            <span class="font-bold text-blue-600">¥720</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">账户统计</h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <i class="fa fa-wechat text-green-500"></i>
                                <span class="font-medium">微信支付</span>
                            </div>
                            <span class="font-bold text-gray-700">¥1,800</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                            <div class="flex items-center space-x-3">
                                <i class="fa fa-credit-card text-blue-500"></i>
                                <span class="font-medium">银行卡</span>
                            </div>
                            <span class="font-bold text-gray-700">¥1,080</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 账户页面 -->
    <div id="accountsPage" class="hidden p-4">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">账户管理</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-wechat text-green-500 text-xl"></i>
                        </div>
                        <span class="text-sm text-gray-500">微信支付</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-1">¥2,850.00</h3>
                    <p class="text-gray-600 text-sm">可用余额</p>
                    <div class="mt-4 flex space-x-2">
                        <button class="flex-1 py-2 px-4 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors">
                            充值
                        </button>
                        <button class="flex-1 py-2 px-4 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors">
                            提现
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-credit-card text-blue-500 text-xl"></i>
                        </div>
                        <span class="text-sm text-gray-500">银行卡</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-1">¥5,200.00</h3>
                    <p class="text-gray-600 text-sm">可用余额</p>
                    <div class="mt-4 flex space-x-2">
                        <button class="flex-1 py-2 px-4 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors">
                            转账
                        </button>
                        <button class="flex-1 py-2 px-4 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors">
                            详情
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-money text-yellow-500 text-xl"></i>
                        </div>
                        <span class="text-sm text-gray-500">现金</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-1">¥800.00</h3>
                    <p class="text-gray-600 text-sm">钱包现金</p>
                    <div class="mt-4 flex space-x-2">
                        <button class="flex-1 py-2 px-4 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-medium hover:bg-yellow-200 transition-colors">
                            存入
                        </button>
                        <button class="flex-1 py-2 px-4 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors">
                            取出
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-center h-full">
                        <button onclick="addNewAccount()" class="flex flex-col items-center justify-center space-y-2 p-6 border-2 border-dashed border-gray-300 rounded-xl hover:border-primary transition-colors">
                            <i class="fa fa-plus text-gray-400 text-2xl"></i>
                            <span class="text-gray-500 text-sm font-medium">添加新账户</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 账户流水 -->
            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-bold text-gray-800">账户流水</h3>
                    <select class="text-sm border border-gray-300 rounded-lg px-3 py-1">
                        <option>全部账户</option>
                        <option>微信支付</option>
                        <option>银行卡</option>
                        <option>现金</option>
                    </select>
                </div>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-3 border-b border-gray-100">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                <i class="fa fa-cutlery text-red-500"></i>
                            </div>
                            <div>
                                <p class="font-medium text-gray-800">午餐</p>
                                <p class="text-xs text-gray-500">2024-12-25 12:30</p>
                            </div>
                        </div>
                        <span class="text-red-600 font-bold">-¥45</span>
                    </div>
                    <div class="flex items-center justify-between p-3 border-b border-gray-100">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                <i class="fa fa-arrow-up text-green-500"></i>
                            </div>
                            <div>
                                <p class="font-medium text-gray-800">工资收入</p>
                                <p class="text-xs text-gray-500">2024-12-25 09:00</p>
                            </div>
                        </div>
                        <span class="text-green-600 font-bold">+¥8,000</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 个人中心页面 -->
    <div id="profilePage" class="hidden p-4">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-gradient-to-r from-primary to-secondary rounded-full mx-auto mb-4 flex items-center justify-center">
                    <i class="fa fa-bullseye text-white text-2xl"></i>
                </div>
                <h2 class="text-xl font-bold text-gray-800">用户名</h2>
                <p class="text-gray-600">开始记账，管理财务</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">本月记账</p>
                            <p class="text-2xl font-bold text-primary">28笔</p>
                        </div>
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-calendar text-primary text-xl"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover border border-gray-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">连续记账</p>
                            <p class="text-2xl font-bold text-secondary">15天</p>
                        </div>
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <i class="fa fa-fire text-secondary text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 设置选项 -->
            <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100">
                <h3 class="text-lg font-bold text-gray-800 mb-6">设置</h3>
                <div class="space-y-4">
                    <button onclick="openProfileSettings()" class="w-full flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors">
                        <div class="flex items-center space-x-3">
                            <i class="fa fa-bullseye text-primary text-xl"></i>
                            <span class="font-medium text-gray-800">个人信息</span>
                        </div>
                        <i class="fa fa-chevron-right text-gray-400"></i>
                    </button>

                    <button onclick="openSecuritySettings()" class="w-full flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors">
                        <div class="flex items-center space-x-3">
                            <i class="fa fa-lock text-primary text-xl"></i>
                            <span class="font-medium text-gray-800">安全设置</span>
                        </div>
                        <i class="fa fa-chevron-right text-gray-400"></i>
                    </button>

                    <button onclick="openNotificationSettings()" class="w-full flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors">
                        <div class="flex items-center space-x-3">
                            <i class="fa fa-bell text-primary text-xl"></i>
                            <span class="font-medium text-gray-800">通知设置</span>
                        </div>
                        <i class="fa fa-chevron-right text-gray-400"></i>
                    </button>

                    <button onclick="openBackupSettings()" class="w-full flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors">
                        <div class="flex items-center space-x-3">
                            <i class="fa fa-cloud text-primary text-xl"></i>
                            <span class="font-medium text-gray-800">数据备份</span>
                        </div>
                        <i class="fa fa-chevron-right text-gray-400"></i>
                    </button>

                    <button onclick="openHelpCenter()" class="w-full flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors">
                        <div class="flex items-center space-x-3">
                            <i class="fa fa-question-circle text-primary text-xl"></i>
                            <span class="font-medium text-gray-800">帮助中心</span>
                        </div>
                        <i class="fa fa-chevron-right text-gray-400"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 全局变量
        let currentTab = 'home';
        let selectedType = 'expense';
        let records = JSON.parse(localStorage.getItem('records') || '[]');

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            renderRecentRecords();
            updateFinancialSummary();
        });

        function initializeApp() {
            // 设置默认日期为今天
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date').value = today;

            // 初始化图表
            initializeCharts();
        }

        function setupEventListeners() {
            // 表单提交
            document.getElementById('recordForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveRecord();
            });

            // 金额输入格式化
            document.getElementById('amount').addEventListener('input', function(e) {
                formatAmountInput(e.target);
            });
        }

        // 切换标签页
        function switchTab(tabName) {
            // 隐藏所有页面
            document.querySelectorAll('[id$="Page"]').forEach(page => {
                page.classList.add('hidden');
            });

            // 重置所有标签按钮样式
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('text-primary');
                btn.classList.add('text-gray-500');
            });

            // 显示选中的页面
            document.getElementById(tabName + 'Page').classList.remove('hidden');
            
            // 设置选中标签样式
            event.target.closest('.tab-btn').classList.remove('text-gray-500');
            event.target.closest('.tab-btn').classList.add('text-primary');

            currentTab = tabName;

            // 如果切换到统计页面，更新图表
            if (tabName === 'statistics') {
                updateCharts();
            }
        }

        // 打开添加记录模态框
        function openAddRecordModal() {
            document.getElementById('addRecordModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            // 重置表单
            document.getElementById('recordForm').reset();
            selectType('expense');
            document.getElementById('date').value = new Date().toISOString().split('T')[0];
        }

        // 关闭添加记录模态框
        function closeAddRecordModal() {
            document.getElementById('addRecordModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // 选择收支类型
        function selectType(type) {
            selectedType = type;
            
            // 重置按钮样式
            document.getElementById('incomeBtn').classList.remove('border-primary', 'bg-primary/5');
            document.getElementById('incomeBtn').classList.add('border-gray-200');
            
            document.getElementById('expenseBtn').classList.remove('border-primary', 'bg-primary/5');
            document.getElementById('expenseBtn').classList.add('border-gray-200');
            
            // 设置选中样式
            document.getElementById(type + 'Btn').classList.remove('border-gray-200');
            document.getElementById(type + 'Btn').classList.add('border-primary', 'bg-primary/5');
        }

        // 格式化金额输入
        function formatAmountInput(input) {
            let value = input.value.replace(/[^0-9.]/g, '');
            if (value) {
                value = parseFloat(value).toFixed(2);
            }
            input.value = value;
        }

        // 保存记录
        function saveRecord() {
            const amount = parseFloat(document.getElementById('amount').value);
            const category = document.getElementById('category').value;
            const account = document.getElementById('account').value;
            const note = document.getElementById('note').value;
            const date = document.getElementById('date').value;

            if (!amount || !category) {
                showAlert('请填写金额和分类', 'error');
                return;
            }

            const record = {
                id: Date.now(),
                type: selectedType,
                amount: amount,
                category: category,
                account: account,
                note: note,
                date: date,
                timestamp: new Date().getTime()
            };

            records.unshift(record);
            localStorage.setItem('records', JSON.stringify(records));

            showAlert('记录保存成功！', 'success');
            closeAddRecordModal();
            renderRecentRecords();
            updateFinancialSummary();
        }

        // 渲染最近记录
        function renderRecentRecords() {
            const container = document.getElementById('recentRecords');
            const recentRecords = records.slice(0, 5);

            if (recentRecords.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <i class="fa fa-file-text-o text-4xl mb-4"></i>
                        <p>还没有记账记录</p>
                        <p class="text-sm mt-2">点击底部按钮开始记账吧</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = recentRecords.map(record => `
                <div class="flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 ${record.type === 'income' ? 'bg-green-100' : 'bg-red-100'} rounded-lg flex items-center justify-center">
                            <i class="fa ${getCategoryIcon(record.category)} ${record.type === 'income' ? 'text-green-500' : 'text-red-500'}"></i>
                        </div>
                        <div>
                            <p class="font-medium text-gray-800">${record.category}</p>
                            <p class="text-xs text-gray-500">${record.date} · ${record.account}</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-bold ${record.type === 'income' ? 'text-green-600' : 'text-red-600'}">
                            ${record.type === 'income' ? '+' : ''}¥${record.amount.toFixed(2)}
                        </p>
                        ${record.note ? `<p class="text-xs text-gray-500">${record.note}</p>` : ''}
                    </div>
                </div>
            `).join('');
        }

        // 获取分类图标
        function getCategoryIcon(category) {
            const icons = {
                '餐饮': 'fa-cutlery',
                '交通': 'fa-car',
                '购物': 'fa-shopping-bag',
                '娱乐': 'fa-gamepad',
                '住房': 'fa-home',
                '医疗': 'fa-medkit',
                '教育': 'fa-graduation-cap',
                '其他': 'fa-ellipsis-h'
            };
            return icons[category] || 'fa-ellipsis-h';
        }

        // 更新财务汇总
        function updateFinancialSummary() {
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();

            const monthlyRecords = records.filter(record => {
                const recordDate = new Date(record.date);
                return recordDate.getMonth() === currentMonth && recordDate.getFullYear() === currentYear;
            });

            const totalIncome = monthlyRecords
                .filter(r => r.type === 'income')
                .reduce((sum, r) => sum + r.amount, 0);

            const totalExpense = monthlyRecords
                .filter(r => r.type === 'expense')
                .reduce((sum, r) => sum + r.amount, 0);

            const balance = totalIncome - totalExpense;

            document.getElementById('totalIncome').textContent = `¥${totalIncome.toFixed(2)}`;
            document.getElementById('totalExpense').textContent = `¥${totalExpense.toFixed(2)}`;
            document.getElementById('balance').textContent = `¥${balance.toFixed(2)}`;
        }

        // 初始化图表
        function initializeCharts() {
            // 饼图
            const pieCtx = document.getElementById('pieChart').getContext('2d');
            window.pieChart = new Chart(pieCtx, {
                type: 'doughnut',
                data: {
                    labels: ['餐饮', '交通', '购物', '娱乐', '其他'],
                    datasets: [{
                        data: [35, 20, 25, 15, 5],
                        backgroundColor: [
                            '#EF4444',
                            '#3B82F6',
                            '#10B981',
                            '#F59E0B',
                            '#8B5CF6'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });

            // 折线图
            const lineCtx = document.getElementById('lineChart').getContext('2d');
            window.lineChart = new Chart(lineCtx, {
                type: 'line',
                data: {
                    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                    datasets: [{
                        label: '收入',
                        data: [8000, 8500, 9000, 8800, 9200, 9500],
                        borderColor: '#10B981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: '支出',
                        data: [3500, 3200, 3800, 3600, 4000, 3900],
                        borderColor: '#EF4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // 更新图表数据
        function updateCharts() {
            // 这里可以根据实际数据更新图表
            // 目前使用模拟数据
        }

        // 显示提示
        function showAlert(message, type = 'info') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white transform transition-all duration-300 translate-x-full`;
            
            if (type === 'success') {
                alertDiv.classList.add('bg-green-500');
                alertDiv.innerHTML = `<i class="fa fa-check mr-2"></i>${message}`;
            } else if (type === 'error') {
                alertDiv.classList.add('bg-red-500');
                alertDiv.innerHTML = `<i class="fa fa-times mr-2"></i>${message}`;
            } else {
                alertDiv.classList.add('bg-blue-500');
                alertDiv.innerHTML = `<i class="fa fa-info mr-2"></i>${message}`;
            }

            document.body.appendChild(alertDiv);

            // 显示动画
            setTimeout(() => {
                alertDiv.classList.remove('translate-x-full');
            }, 100);

            // 自动隐藏
            setTimeout(() => {
                alertDiv.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(alertDiv);
                }, 300);
            }, 3000);
        }

        // 显示通知
        function showNotification() {
            showAlert('您有新的记账提醒', 'info');
        }

        // 打开设置
        function openSettings() {
            switchTab('profile');
        }

        // 切换分类视图
        function toggleCategoryView() {
            showAlert('视图切换功能开发中...', 'info');
        }

        // 按分类筛选
        function filterByCategory(category) {
            showAlert(`正在查看${category}分类记录`, 'info');
        }

        // 打开所有记录
        function openAllRecords() {
            showAlert('记录列表功能开发中...', 'info');
        }

        // 添加新账户
        function addNewAccount() {
            showAlert('添加账户功能开发中...', 'info');
        }

        // 个人中心设置功能
        function openProfileSettings() {
            showAlert('个人信息设置开发中...', 'info');
        }

        function openSecuritySettings() {
            showAlert('安全设置开发中...', 'info');
        }

        function openNotificationSettings() {
            showAlert('通知设置开发中...', 'info');
        }

        function openBackupSettings() {
            showAlert('数据备份功能开发中...', 'info');
        }

        function openHelpCenter() {
            showAlert('帮助中心开发中...', 'info');
        }

        // 页面可见性变化时更新数据
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                renderRecentRecords();
                updateFinancialSummary();
            }
        });

        // 键盘快捷键支持
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'n') {
                e.preventDefault();
                openAddRecordModal();
            }
        });
    </script>
</body>
</html>